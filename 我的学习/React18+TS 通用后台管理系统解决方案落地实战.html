<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>概览 | 前端日记小屋</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="学习文档">
    
    <link rel="preload" href="/blog/assets/css/0.styles.fcd904e3.css" as="style"><link rel="preload" href="/blog/assets/js/app.225aa02c.js" as="script"><link rel="preload" href="/blog/assets/js/2.0744f258.js" as="script"><link rel="preload" href="/blog/assets/js/1.1606159f.js" as="script"><link rel="preload" href="/blog/assets/js/13.9c3e9aa8.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.60ccaeca.js"><link rel="prefetch" href="/blog/assets/js/11.5680ec8f.js"><link rel="prefetch" href="/blog/assets/js/12.8808960b.js"><link rel="prefetch" href="/blog/assets/js/14.35cd4e89.js"><link rel="prefetch" href="/blog/assets/js/15.b886e596.js"><link rel="prefetch" href="/blog/assets/js/16.cc65e326.js"><link rel="prefetch" href="/blog/assets/js/17.1c3e9651.js"><link rel="prefetch" href="/blog/assets/js/18.0682c518.js"><link rel="prefetch" href="/blog/assets/js/19.59a8dd5e.js"><link rel="prefetch" href="/blog/assets/js/20.e2600d0b.js"><link rel="prefetch" href="/blog/assets/js/21.e492401c.js"><link rel="prefetch" href="/blog/assets/js/22.bc7c4cdb.js"><link rel="prefetch" href="/blog/assets/js/23.98cec78f.js"><link rel="prefetch" href="/blog/assets/js/24.e128e892.js"><link rel="prefetch" href="/blog/assets/js/25.ed5ede36.js"><link rel="prefetch" href="/blog/assets/js/26.2cd38b41.js"><link rel="prefetch" href="/blog/assets/js/27.a86e7ba6.js"><link rel="prefetch" href="/blog/assets/js/28.80c3e98f.js"><link rel="prefetch" href="/blog/assets/js/29.6e26d012.js"><link rel="prefetch" href="/blog/assets/js/3.2e9bd008.js"><link rel="prefetch" href="/blog/assets/js/30.93d8fa82.js"><link rel="prefetch" href="/blog/assets/js/31.6bfbd835.js"><link rel="prefetch" href="/blog/assets/js/32.4e019761.js"><link rel="prefetch" href="/blog/assets/js/33.63e05796.js"><link rel="prefetch" href="/blog/assets/js/34.58b053f7.js"><link rel="prefetch" href="/blog/assets/js/35.a113ac70.js"><link rel="prefetch" href="/blog/assets/js/36.658958f8.js"><link rel="prefetch" href="/blog/assets/js/37.7be656d1.js"><link rel="prefetch" href="/blog/assets/js/38.07dcd26b.js"><link rel="prefetch" href="/blog/assets/js/39.8a5e4db7.js"><link rel="prefetch" href="/blog/assets/js/4.a04ccb9d.js"><link rel="prefetch" href="/blog/assets/js/40.6cccd44e.js"><link rel="prefetch" href="/blog/assets/js/41.ac1fdc96.js"><link rel="prefetch" href="/blog/assets/js/42.1f921274.js"><link rel="prefetch" href="/blog/assets/js/5.e4c3ba38.js"><link rel="prefetch" href="/blog/assets/js/6.99b930b9.js"><link rel="prefetch" href="/blog/assets/js/7.4601f44a.js"><link rel="prefetch" href="/blog/assets/js/vendors~docsearch.aae61d50.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.fcd904e3.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">前端日记小屋</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/我的学习/React18+TS 通用后台管理系统解决方案落地实战.html" class="nav-link">
  我的学习
</a></div><div class="nav-item"><a href="/blog/前端入门/基础知识/开发环境.html" class="nav-link">
  前端入门
</a></div><div class="nav-item"><a href="/blog/项目/物业端.html" class="nav-link">
  我的项目
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/我的学习/React18+TS 通用后台管理系统解决方案落地实战.html" class="nav-link">
  我的学习
</a></div><div class="nav-item"><a href="/blog/前端入门/基础知识/开发环境.html" class="nav-link">
  前端入门
</a></div><div class="nav-item"><a href="/blog/项目/物业端.html" class="nav-link">
  我的项目
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/blog/我的学习/React18+TS 通用后台管理系统解决方案落地实战.html" class="active sidebar-link">React18 后台管理系统</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/我的学习/React18+TS 通用后台管理系统解决方案落地实战.html#概览" class="sidebar-link">概览</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/我的学习/React18+TS 通用后台管理系统解决方案落地实战.html#项目涵盖的内容" class="sidebar-link">项目涵盖的内容</a></li><li class="sidebar-sub-header"><a href="/blog/我的学习/React18+TS 通用后台管理系统解决方案落地实战.html#用到的技术栈" class="sidebar-link">用到的技术栈</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/我的学习/React18+TS 通用后台管理系统解决方案落地实战.html#需求分析、前端开发环境搭建" class="sidebar-link">需求分析、前端开发环境搭建</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/我的学习/React18+TS 通用后台管理系统解决方案落地实战.html#技术选型" class="sidebar-link">技术选型</a></li><li class="sidebar-sub-header"><a href="/blog/我的学习/React18+TS 通用后台管理系统解决方案落地实战.html#本次项目选择" class="sidebar-link">本次项目选择</a></li><li class="sidebar-sub-header"><a href="/blog/我的学习/React18+TS 通用后台管理系统解决方案落地实战.html#创建-vite" class="sidebar-link">创建 vite</a></li><li class="sidebar-sub-header"><a href="/blog/我的学习/React18+TS 通用后台管理系统解决方案落地实战.html#输入项目名称" class="sidebar-link">输入项目名称</a></li><li class="sidebar-sub-header"><a href="/blog/我的学习/React18+TS 通用后台管理系统解决方案落地实战.html#选择框架" class="sidebar-link">选择框架</a></li><li class="sidebar-sub-header"><a href="/blog/我的学习/React18+TS 通用后台管理系统解决方案落地实战.html#安装依赖" class="sidebar-link">安装依赖</a></li><li class="sidebar-sub-header"><a href="/blog/我的学习/React18+TS 通用后台管理系统解决方案落地实战.html#启动项目" class="sidebar-link">启动项目</a></li><li class="sidebar-sub-header"><a href="/blog/我的学习/React18+TS 通用后台管理系统解决方案落地实战.html#安装-editorconfig" class="sidebar-link">安装 editorconfig</a></li><li class="sidebar-sub-header"><a href="/blog/我的学习/React18+TS 通用后台管理系统解决方案落地实战.html#npm-yarn-pnpm-配置" class="sidebar-link">npm yarn pnpm 配置</a></li><li class="sidebar-sub-header"><a href="/blog/我的学习/React18+TS 通用后台管理系统解决方案落地实战.html#配置prettier" class="sidebar-link">配置Prettier</a></li><li class="sidebar-sub-header"><a href="/blog/我的学习/React18+TS 通用后台管理系统解决方案落地实战.html#eslint-问题" class="sidebar-link">ESlint 问题</a></li><li class="sidebar-sub-header"><a href="/blog/我的学习/React18+TS 通用后台管理系统解决方案落地实战.html#配置-eslint" class="sidebar-link">配置 ESlint</a></li><li class="sidebar-sub-header"><a href="/blog/我的学习/React18+TS 通用后台管理系统解决方案落地实战.html#vite配置" class="sidebar-link">vite配置</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/我的学习/React18+TS 通用后台管理系统解决方案落地实战.html#react入门" class="sidebar-link">React入门</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/我的学习/React18+TS 通用后台管理系统解决方案落地实战.html#react和vue对比" class="sidebar-link">react和vue对比</a></li><li class="sidebar-sub-header"><a href="/blog/我的学习/React18+TS 通用后台管理系统解决方案落地实战.html#jsx" class="sidebar-link">jsx</a></li><li class="sidebar-sub-header"><a href="/blog/我的学习/React18+TS 通用后台管理系统解决方案落地实战.html#变量" class="sidebar-link">变量</a></li><li class="sidebar-sub-header"><a href="/blog/我的学习/React18+TS 通用后台管理系统解决方案落地实战.html#样式" class="sidebar-link">样式</a></li><li class="sidebar-sub-header"><a href="/blog/我的学习/React18+TS 通用后台管理系统解决方案落地实战.html#循环" class="sidebar-link">循环</a></li><li class="sidebar-sub-header"><a href="/blog/我的学习/React18+TS 通用后台管理系统解决方案落地实战.html#属性" class="sidebar-link">属性</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/我的学习/React18+TS 通用后台管理系统解决方案落地实战.html#react-hook" class="sidebar-link">React Hook</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/我的学习/React18+TS 通用后台管理系统解决方案落地实战.html#usestate" class="sidebar-link">useState</a></li><li class="sidebar-sub-header"><a href="/blog/我的学习/React18+TS 通用后台管理系统解决方案落地实战.html#useeffect" class="sidebar-link">useEffect</a></li></ul></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="概览"><a href="#概览" class="header-anchor">#</a> 概览</h2> <p>这是什么?</p> <p>基于 React18 开发的中后台管理系统</p> <h3 id="项目涵盖的内容"><a href="#项目涵盖的内容" class="header-anchor">#</a> 项目涵盖的内容</h3> <ul><li>JWY 登录</li> <li>CURD</li> <li>业务图标</li> <li>地图大屏</li> <li>RBAC</li> <li>暗黑主题...</li></ul> <h3 id="用到的技术栈"><a href="#用到的技术栈" class="header-anchor">#</a> 用到的技术栈</h3> <ul><li>React18</li> <li>Typescript4.x</li> <li>vite4.x</li> <li>ReactRouter6.x</li> <li>Zustand4.x</li></ul> <h2 id="需求分析、前端开发环境搭建"><a href="#需求分析、前端开发环境搭建" class="header-anchor">#</a> <strong>需求分析、前端开发环境搭建</strong></h2> <p><img src="/blog/assets/img/1708577521304.ba2d8daf.png" alt="1708577521304"></p> <h3 id="技术选型"><a href="#技术选型" class="header-anchor">#</a> 技术选型</h3> <h4 id="技术选型要考虑-多个方面的因素"><a href="#技术选型要考虑-多个方面的因素" class="header-anchor">#</a> 技术选型要考虑 <code>多个方面</code>的因素</h4> <ul><li>面向用户(如果是 C 端需要考虑兼容性,如果是后台要考虑便捷性)</li> <li>端:H5 官网 小程序 大屏(根据不同的端选择不同的技术)</li> <li>TS VITE 微服务 APP</li> <li>团队:擅长的技术 开发的成本</li></ul> <h4 id="使用建议"><a href="#使用建议" class="header-anchor">#</a> 使用建议</h4> <blockquote><p>百度地图和高德地图需要缴纳 1 年 5 万块的授权费</p></blockquote> <ul><li>考虑兼容 <code>vue2</code> <code>element-ui</code></li> <li>不考虑兼容 <code>vue3</code> <code>React</code></li> <li>后台 UI 框架 <code>ElementUi</code> <code>AndDesign</code> <code>ElementPlus</code> <code>Arco-Design</code></li> <li>H5 UI 框架 <code>Vant</code> <code>WeUI</code> <code>Arco-Desgin</code></li> <li>小程序框架 <code>微信原生</code> <code>Taro</code> <code>uni-app</code></li> <li>地图 大屏 <code>百度地图</code> <code>高德地图</code> <code>echarts</code> <code>G2plot</code></li></ul> <h4 id="简单概括"><a href="#简单概括" class="header-anchor">#</a> 简单概括</h4> <ul><li>普通开发者 -&gt;<strong>会什么用什么</strong></li> <li>高级开发者 -&gt; <strong>扩宽技术栈</strong></li></ul> <h3 id="本次项目选择"><a href="#本次项目选择" class="header-anchor">#</a> 本次项目选择</h3> <ul><li>React18</li> <li>Router6</li> <li>Vite4</li> <li>TS + Antd</li> <li>resso</li> <li>zustand</li></ul> <p><strong>因为本次使用的是 vite 所以不使用 React 默认的脚手架 因为它是 webpack 创建的</strong></p> <h3 id="创建-vite"><a href="#创建-vite" class="header-anchor">#</a> 创建 vite</h3> <div class="language-powershell line-numbers-mode"><pre class="language-powershell"><code>yarn create vite
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="输入项目名称"><a href="#输入项目名称" class="header-anchor">#</a> 输入项目名称</h3> <blockquote><p>输入项目名称</p></blockquote> <p><img src="/blog/assets/img/1708581103071.6db50bf6.png" alt="1708581103071"></p> <h3 id="选择框架"><a href="#选择框架" class="header-anchor">#</a> 选择框架</h3> <blockquote><p>选择 React 和 Typescript</p></blockquote> <p><img src="/blog/assets/img/1708581215224.50a29352.png" alt="1708581215224"></p> <h3 id="安装依赖"><a href="#安装依赖" class="header-anchor">#</a> 安装依赖</h3> <div class="language-powershell line-numbers-mode"><pre class="language-powershell"><code>yarn
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="启动项目"><a href="#启动项目" class="header-anchor">#</a> 启动项目</h3> <div class="language-powershell line-numbers-mode"><pre class="language-powershell"><code>yarn dev
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="/blog/assets/img/1708581415540.b6a15129.png" alt="1708581415540"></p> <h3 id="安装-editorconfig"><a href="#安装-editorconfig" class="header-anchor">#</a> 安装 editorconfig</h3> <h4 id="创建-editorconfig文件-在项目根目录中"><a href="#创建-editorconfig文件-在项目根目录中" class="header-anchor">#</a> 创建 <code>.editorconfig</code>文件,在项目根目录中</h4> <div class="language- line-numbers-mode"><pre class="language-text"><code># https://editorconfig.org
root = true
[*]
charset = utf-8
indent_style = space
indent_size = 2
end_of_line =lf
insert_final_newline = true
trim_trailing_whitespace = true
[*.md]
insert_final_newline = false
trim_trailing_whitespace = false

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><hr> <h4 id="配置解读"><a href="#配置解读" class="header-anchor">#</a> 配置解读</h4> <p><code>root=true</code> 对所有文件生效</p> <p><code>end_of_line= lf</code> 不同操作系统换行符不同</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>end_of_line
lf|cr|crlf(大小写不限）
end_of_line设置的换行符的表示方式。先看一下这几个值是什么意思
lf：全拼Line Feed，意思是换行，用符号\n表示
cr:全拼Carriage Return，意思是回车，用符号\r表示
crlf：cr和lf的结合，回车换行，用符号\r\n
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>insert_final_newline = true 代码最后新增一行
trim_trailing_whitespace = true 修剪尾随空格</p> <h3 id="npm-yarn-pnpm-配置"><a href="#npm-yarn-pnpm-配置" class="header-anchor">#</a> npm yarn pnpm 配置</h3> <p>1.下载最新稳定版 Node.js</p> <p>2.安装 cnpm、yam 或者 pnpm</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>#安装yarn
npm install <span class="token operator">-</span> g yarn #安装pnpm
npm instal <span class="token operator">-</span> g pnpm
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><blockquote><p>安装 node 时会自动安装 npm；</p> <p>npm 是 nodejs 平台默认的包管理工具，新版本的 nodejs 已经集成了 npm，所以 npm 会随同 nodejs 一起安装，安装完成后可以利用“npm -v”命令查看是否安装成功。</p></blockquote> <p>npm 修改配置</p> <p>在项目根目录(package.json 同一目录)中新建 <code>. npmrc</code> 文件，编辑文件内容如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>registry<span class="token operator">=</span>https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>registry<span class="token punctuation">.</span>npm<span class="token punctuation">.</span>taobao<span class="token punctuation">.</span>org
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p>保存后再使用 npm instal 下载包的速度会快很多</p></blockquote> <p>yarn 修改配置</p> <p>在项目根目录(package .json 同一目录)中新建 <code>. yarnrc</code> 文件，编辑文件内容如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>registry<span class="token operator">=</span>https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>registry<span class="token punctuation">.</span>npm<span class="token punctuation">.</span>taobao<span class="token punctuation">.</span>org
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>命令行修改配置</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>npm config <span class="token keyword">set</span> registry https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>registry<span class="token punctuation">.</span>npm<span class="token punctuation">.</span>taobao<span class="token punctuation">.</span>org
yarn config <span class="token keyword">set</span> registry https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>registry<span class="token punctuation">.</span>npm<span class="token punctuation">.</span>taobao<span class="token punctuation">.</span>org
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="pnpm-介绍"><a href="#pnpm-介绍" class="header-anchor">#</a> pnpm 介绍</h4> <p><strong>一、什么是 pnpm</strong></p> <p><code>快速的</code>，<code>节省磁盘空间</code>的包管理工具。</p> <p><strong>二、pnpm 的特点</strong></p> <p>1、快速</p> <p>pnpm 比其他包管理器快 2 倍。</p> <p>2、高效</p> <p>node modules 中的文件为复制或链接自特定的内容寻址存储库。</p> <p>3、支持 monorepos</p> <p>pnpm 内置支持单仓多包。</p> <p>4、严格</p> <p>pnpm 默认创建了一个非平铺的 node_modukes ,因此代码无法访问任意包。</p> <p><strong>pnpm 使用命令</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>pnpm install 包名

pnpm i 包名

pnpm add 包名 <span class="token operator">-</span><span class="token constant">S</span> 默认写入dependencies

pnpm add  <span class="token operator">-</span><span class="token constant">D</span> devDependencies

pnpm add <span class="token operator">-</span>g <span class="token comment">//全局安装</span>

pnpm remove 包名 <span class="token comment">//移除包</span>

pnpm up <span class="token comment">//更新所有依赖项目</span>

pnpm upgrade 包 <span class="token comment">//更新指定的包</span>

pnpm upgrade 包 <span class="token operator">--</span>global <span class="token comment">//更新全局的包</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="配置prettier"><a href="#配置prettier" class="header-anchor">#</a> 配置<strong>Prettier</strong></h3> <blockquote><p>Prettier 是一个代码格式化工具</p> <p>已经集成到大多数编辑器中</p> <p>几乎不需要设置参数</p></blockquote> <p>为什么使用 Prettier?</p> <blockquote><p>统一团队风格</p></blockquote> <blockquote><p>保存代码自动格式化</p></blockquote> <h4 id="开始操作"><a href="#开始操作" class="header-anchor">#</a> 开始操作</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code>npm install prettier <span class="token operator">--</span>save<span class="token operator">-</span>dev <span class="token comment">//安装Prettier依赖包</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="webstorm"><a href="#webstorm" class="header-anchor">#</a> webstorm</h4> <p><code>webstorm</code>中的配置比较简单,直接在设置中搜索保存</p> <p><img src="/blog/assets/img/1708650770570.3b76bd2a.png" alt="1708650770570"></p> <p>勾选 <code>Run on save</code> 即可</p> <p>新建 <code>.prettierrc.cjs</code> 文件,在 <code>vite</code>中如果要使用 <code>commonJs</code>规范 必须使用 <code>cjs</code>作为后缀</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">printWidth</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token comment">// 指定代码长度，超出换行</span>
  <span class="token literal-property property">tabWidth</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token comment">// tab 键的宽度</span>
  <span class="token literal-property property">useTabs</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 不使用tab</span>
  <span class="token literal-property property">semi</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 结尾加上分号</span>
  <span class="token literal-property property">singleQuote</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 使用单引号</span>
  <span class="token literal-property property">quoteProps</span><span class="token operator">:</span> <span class="token string">&quot;as-needed&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 要求对象字面量属性是否使用引号包裹,(‘as-needed’: 没有特殊要求，禁止使用，'consistent': 保持一致 , preserve: 不限制，想用就用)</span>
  <span class="token literal-property property">jsxSingleQuote</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// jsx 语法中使用单引号</span>
  <span class="token literal-property property">trailingComma</span><span class="token operator">:</span> <span class="token string">&quot;none&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 确保对象的最后一个属性后有逗号</span>
  <span class="token literal-property property">bracketSpacing</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 大括号有空格 { name: 'rose' }</span>
  <span class="token literal-property property">jsxBracketSameLine</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 在多行JSX元素的最后一行追加 &gt;</span>
  <span class="token literal-property property">arrowParens</span><span class="token operator">:</span> <span class="token string">&quot;always&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 箭头函数，单个参数添加括号</span>
  <span class="token literal-property property">requirePragma</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 是否严格按照文件顶部的特殊注释格式化代码</span>
  <span class="token literal-property property">insertPragma</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 是否在格式化的文件顶部插入Pragma标记，以表明该文件被prettier格式化过了</span>
  <span class="token literal-property property">proseWrap</span><span class="token operator">:</span> <span class="token string">&quot;preserve&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 按照文件原样折行</span>
  <span class="token literal-property property">htmlWhitespaceSensitivity</span><span class="token operator">:</span> <span class="token string">&quot;ignore&quot;</span><span class="token punctuation">,</span> <span class="token comment">// html文件的空格敏感度，控制空格是否影响布局</span>
  <span class="token literal-property property">endOfLine</span><span class="token operator">:</span> <span class="token string">&quot;auto&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 结尾是 \n \r \n\r auto</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><blockquote><p>我这里实际操作的时候发现一个问题,有时候我修改 <code>prettierrc.cjs</code>里的内容时,根本无法生效,需要我完全删除 <code>node_modules</code>重新安装依赖才可以</p></blockquote> <h4 id="vsode-配置"><a href="#vsode-配置" class="header-anchor">#</a> vsode 配置</h4> <p><img src="/blog/assets/img/1708651630771.0d628c96.png" alt="1708651630771"></p> <p>新建.vscode -&gt; settings.json 输入以上配置 实现 保存代码实行自动格式化</p> <p>安装扩展</p> <p><img src="/blog/assets/img/1708651762584.9bc3b7ab.png" alt="1708651762584"></p> <h3 id="eslint-问题"><a href="#eslint-问题" class="header-anchor">#</a> ESlint 问题</h3> <p>如果使用 <code>yarn create vite</code>创建的项目,没有生成 <code>.eslintrc.cjs</code>文件,则需要重新生成,否则就不需要创建,只需要配置 <code>rule</code>规则就好了</p> <h4 id="eslintrc-cjs-报错"><a href="#eslintrc-cjs-报错" class="header-anchor">#</a> .eslintrc.cjs 报错</h4> <p>找到 env 对象,添加 <code>node:true</code> 设置 node 环境就可以了</p> <h4 id="tsconfig-json-报错"><a href="#tsconfig-json-报错" class="header-anchor">#</a> .tsconfig.json 报错</h4> <p><code>&quot;moduleResolution&quot;: &quot;bundler&quot;</code></p> <p>在 Typescript5 版本后 ,默认模块解析策略是 bundler,是一种兼容妥协方案,只有最新版本 vscode 支持,比如 1.78,所以升级 vscode 即可.或者把 bundler 改成 node,因为以前用的对多的也就是 node 解析</p> <h4 id="tsconfig-node-json-报错"><a href="#tsconfig-node-json-报错" class="header-anchor">#</a> .tsconfig.node.json 报错</h4> <p>同上</p> <h4 id="main-tsx-文件报错"><a href="#main-tsx-文件报错" class="header-anchor">#</a> main.tsx 文件报错</h4> <p>新版本导入模块的时候,可以不加.tsx 扩展名,直接删除就可以</p> <h4 id="不能使用默认导出"><a href="#不能使用默认导出" class="header-anchor">#</a> 不能使用默认导出</h4> <p>添加 <code>&quot;allowSyntheticDefaultImports&quot;: true,</code>配置</p> <p><img src="/blog/assets/img/1708653153348.6f2c5705.png" alt="1708653153348"></p> <h3 id="配置-eslint"><a href="#配置-eslint" class="header-anchor">#</a> 配置 ESlint</h3> <p>Prettier 都是为了<strong>解决代码风格问题代码风格问题</strong>，而 ESLint 是主要为了解决<strong>代码质量问题代码质量问题</strong>，它能在我们编写代码时就检测出程序可能
出现的隐性 BUG，通过 eslint --fix 还能<strong>自动修复</strong>一些代码写法问题，比如你定义了 var a = 3，自动修复后为 const a =3。还有许多类似的强制扭转代码最佳写法的规则，在无法自动修复时，会给出红线提示，强迫开发人员为其寻求更好的解决方案。</p> <p><strong>首先在项目安装 eslint</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code># npm
npm init @eslint<span class="token operator">/</span>config
# 或者
npx eslint <span class="token operator">--</span>init

# 使用yarn时，需要先安装eslint插件才可以执行命令
yarn add eslint <span class="token operator">-</span><span class="token constant">D</span>
yarn eslint <span class="token operator">--</span>init

# pnpm
pnpm eslint <span class="token operator">--</span>init
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><strong>初始化过程</strong>:</p> <ul><li><p>Howwould you liketo use ESLint?</p> <p>选择第三条 To check syntax, find problems, and enforce code style ，检查语法、检测问题并强制代码风格。</p></li> <li><p>What type ofmodules does your project use?</p> <p>采用的 ES6 模块系统导入导出，选择 JavaScript modules (import/export) 。</p></li> <li><p>Which framework does your project use?</p> <p>选择 React 。</p></li> <li><p>Does your project use TypeScript?</p> <p>选择 Yes 后生成的 eslint 配置文件会给我们默认配上支持 Typescript 的 parse 以及插件 plugins 等。</p></li> <li><p>Where does yourcoderun?</p> <p>Browser 和 Node 环境都选上，之后可能会编写一些 node 代码。</p></li> <li><p>What format do youwant yourconfig fileto bein?</p> <p>选择 JavaScript ，即生成的配置文件是 js 文件，配置更加灵活。</p></li> <li><p>Would you liketo installthemnowwith npm?</p> <p>当然 Yes 了～</p></li></ul> <p><strong>在漫长的安装结束后，项目根目录下多出了新的文件 .eslintrc.cjs ，这便是我们的 eslint 配置文件了。其默认内容如下</strong></p> <p><strong>配置语法</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">root</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token literal-property property">env</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">browser</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">es2020</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">node</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">//集成的扩展</span>
    <span class="token string">&quot;eslint:recommended&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;plugin:@typescript-eslint/recommended&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;plugin:react-hooks/recommended&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment">//忽略的文件</span>
  <span class="token literal-property property">ignorePatterns</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;dist&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;.eslintrc.cjs&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">parser</span><span class="token operator">:</span> <span class="token string">&quot;@typescript-eslint/parser&quot;</span><span class="token punctuation">,</span> <span class="token comment">//解析器</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;react-refresh&quot;</span><span class="token punctuation">,</span> <span class="token comment">//插件</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment">/*
   * &quot;off&quot; 或 0 ==&gt; 关闭规则
   * &quot;warn&quot; 或 1 ==&gt; 打开的规则作为警告（不影响代码执行）
   * &quot;error&quot; 或 2 ==&gt; 规则作为一个错误（代码不能执行，界面报错）
   */</span>
  <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;react-refresh/only-export-components&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">&quot;warn&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">allowConstantExport</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;react/react-in-jsx-scope&quot;</span><span class="token operator">:</span> <span class="token string">&quot;off&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;no-console&quot;</span><span class="token operator">:</span> <span class="token string">&quot;error&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 禁止使用console</span>
    <span class="token string-property property">&quot;no-unused-vars&quot;</span><span class="token operator">:</span> <span class="token string">&quot;error&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 禁止定义未使用的变量</span>
    <span class="token string-property property">&quot;no-debugger&quot;</span><span class="token operator">:</span> <span class="token string">&quot;error&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 禁止使用debugger</span>
    <span class="token string-property property">&quot;no-var&quot;</span><span class="token operator">:</span> <span class="token string">&quot;error&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 要求使用 let 或 const 而不是 var</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div><p><strong>Prettier 和 ESLint 冲突问题</strong></p> <p>当 <code>ESLint</code> 的规则和 <code>Prettier</code> 的规则相冲突时，就会发现一个尴尬的问题，用其中一种来格式化代码，另一种就会报错。</p> <p>prettier 官方提供了一款工具 <code>eslint-config-prettier</code> 来解决这个问题。</p> <p>本质上这个工具其实就是禁用掉了一些不必要的以及和 Prettier 相冲突的 <code>ESLint</code> 规则</p> <p>上面介绍的工具，仅仅只是将部分 <code>ESLint 规则</code>给禁用了，避免 Prettier 格式化之后的代码导致 <code>ESLint</code>报错而已，如何将两者结合起来使用呢？</p> <p><code>prettier</code> 官方提供了一个 ESLint 插件 <code>eslint-plugin-prettier</code>。</p> <p>这个插件的主要作用就是将 <code>prettier</code> 作为 <code>ESLint</code> 的规则来使用，相当于代码不符合 <code>Prettier</code>的标准时，会报一个 <code>ESLint</code>错误，同时也可以通过 <code>eslint --fix</code> 来进行格式化</p> <hr> <p>安装插件 <code>eslint-plugin-prettier</code> <code>eslint-config-prettier</code></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>npm install eslint<span class="token operator">-</span>plugin<span class="token operator">-</span>prettier eslint<span class="token operator">-</span>config<span class="token operator">-</span>prettier <span class="token operator">-</span><span class="token constant">D</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>eslint-config-prettier 的作用是关闭 eslint 中与 prettier 相互冲突的规则</li> <li>eslint-plugin-prettier 的作用是赋予 eslint 用 prettier 格式化代码的能力</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">{</span>
  <span class="token string-property property">&quot;extends&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
		<span class="token string">&quot;plugin:prettier/recommended&quot;</span> <span class="token comment">// 添加到数组的最后一个元素</span>
	<span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="vite配置"><a href="#vite配置" class="header-anchor">#</a> vite配置</h3> <p>https://cn.vitejs.dev/config/shared-options.html</p> <h2 id="react入门"><a href="#react入门" class="header-anchor">#</a> React入门</h2> <h3 id="react和vue对比"><a href="#react和vue对比" class="header-anchor">#</a> react和vue对比</h3> <img src="/blog/assets/img/image-20240226134859117.cb9e40d4.png" alt="image-20240226134859117" style="zoom:150%;"> <h3 id="jsx"><a href="#jsx" class="header-anchor">#</a> jsx</h3> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">我是jsx</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="变量"><a href="#变量" class="header-anchor">#</a> 变量</h3> <blockquote><p>变量使用 {} 表示</p></blockquote> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Hello, world!</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>element<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="样式"><a href="#样式" class="header-anchor">#</a> 样式</h3> <blockquote><p>React中的样式属性使用驼峰式</p></blockquote> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Hello, world!</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token literal-property property">fontSize</span><span class="token operator">:</span><span class="token number">14</span><span class="token punctuation">,</span><span class="token literal-property property">marginLeft</span><span class="token operator">:</span><span class="token number">20</span><span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>element<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="循环"><a href="#循环" class="header-anchor">#</a> 循环</h3> <blockquote><p>React会自动遍历jsx数组</p></blockquote> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Hello, world!</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    	</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token operator">...</span><span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    		<span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>i<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>i<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="属性"><a href="#属性" class="header-anchor">#</a> 属性</h3> <blockquote><p>属性是你传递给 JSX 标签的信息。例如，<code>className</code>、<code>src</code>、<code>alt</code>、<code>width</code> 和 <code>height</code> 是你可以传递给 <code>&lt;img&gt;</code> 的一些属性</p></blockquote> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Hello, world!</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">'avatar'</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span></span> 
                <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://i.imgur.com/1bX5QH6.jpg<span class="token punctuation">&quot;</span></span>
                <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Lin Lanying<span class="token punctuation">&quot;</span></span>
                <span class="token attr-name">width</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">100</span><span class="token punctuation">}</span></span>
                <span class="token attr-name">height</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">100</span><span class="token punctuation">}</span></span> 
   <span class="token punctuation">/&gt;</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="react-hook"><a href="#react-hook" class="header-anchor">#</a> React Hook</h2> <ul><li>Hook是<code>React16.8</code>新增特性</li> <li>Hook在不用class组件的情况下使用React特性</li> <li>解决class组件过于复杂的问题</li> <li>提供一些列hookApi</li></ul> <h3 id="usestate"><a href="#usestate" class="header-anchor">#</a> useState</h3> <h4 id="语法定义"><a href="#语法定义" class="header-anchor">#</a> 语法定义</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">[</span>state<span class="token punctuation">,</span>setState<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span>initData<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>state:定义的数据源,可视作一个函数组件的内部变量,但是只在首次渲染被创建</li> <li>setState:改变state的函数,可以是函数和非函数</li> <li>initData:state初始值,有两种情况 函数和非函数</li></ul> <h4 id="案例"><a href="#案例" class="header-anchor">#</a> 案例</h4> <h5 id="字符串"><a href="#字符串" class="header-anchor">#</a> 字符串</h5> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>useState<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">[</span>name<span class="token punctuation">,</span>setName<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">'张三'</span><span class="token punctuation">)</span>
    <span class="token function">settimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        <span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">'李四'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">2500</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>name<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h5 id="对象"><a href="#对象" class="header-anchor">#</a> 对象</h5> <blockquote><p>引用数据类型 要注意 更新复杂state的时候必须传给它一个全新的对象，而不是复制了它引用地址再修改的对象。</p></blockquote> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>useState<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">[</span>user<span class="token punctuation">,</span>setUser<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'张三'</span><span class="token punctuation">,</span><span class="token literal-property property">age</span><span class="token operator">:</span><span class="token number">20</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token function">settimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        <span class="token function">setUser</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token operator">...</span>user<span class="token punctuation">,</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'李四'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">2500</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>user<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h5 id="数组"><a href="#数组" class="header-anchor">#</a> 数组</h5> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>useState<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">[</span>list<span class="token punctuation">,</span>setList<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token function">settimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        <span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>list<span class="token punctuation">]</span>
        arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span>
        <span class="token function">setList</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">2500</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>list<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span>index</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>index<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>item<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h5 id="异步执行"><a href="#异步执行" class="header-anchor">#</a> 异步执行</h5> <blockquote><p>因为React更新完全是异步操作 并不是setCount之后就会立即更新 所以会导致最后结果还是1</p></blockquote> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>useState<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span>setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token function">settimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        <span class="token function">setCount</span><span class="token punctuation">(</span>count<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token function">setCount</span><span class="token punctuation">(</span>count<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token function">setCount</span><span class="token punctuation">(</span>count<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token comment">//传入一个函数解决这个问题</span>
        <span class="token function">setCount</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">prev</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span> prev <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">2500</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="useeffect"><a href="#useeffect" class="header-anchor">#</a> useEffect</h3></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.225aa02c.js" defer></script><script src="/blog/assets/js/2.0744f258.js" defer></script><script src="/blog/assets/js/1.1606159f.js" defer></script><script src="/blog/assets/js/13.9c3e9aa8.js" defer></script>
  </body>
</html>
